import{_ as s,o as a,c as o,af as n}from"./chunks/framework.DZTH9Z-c.js";const h=JSON.parse('{"title":"Руководство по развертыванию","description":"Полное руководство по установке и развертыванию Coreness. Docker, PostgreSQL, webhook настройка и обновление сервера.","frontmatter":{"title":"Руководство по развертыванию","description":"Полное руководство по установке и развертыванию Coreness. Docker, PostgreSQL, webhook настройка и обновление сервера.","keywords":"развертывание coreness, docker deployment, postgresql setup, webhook configuration","head":[["meta",{"property":"og:title","content":"Руководство по развертыванию | Coreness"}],["meta",{"property":"og:description","content":"Полное руководство по установке и развертыванию Coreness. Docker, PostgreSQL, webhook настройка и обновление сервера."}],["meta",{"property":"og:image","content":"https://docs.coreness.tech/logo-dark.png"}],["meta",{"property":"og:url","content":"https://docs.coreness.tech/getting-started/DEPLOYMENT"}],["link",{"rel":"canonical","href":"https://docs.coreness.tech/getting-started/DEPLOYMENT"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"TechArticle\\",\\"headline\\":\\"Руководство по развертыванию\\",\\"description\\":\\"Полное руководство по установке и развертыванию Coreness. Docker, PostgreSQL, webhook настройка и обновление сервера.\\",\\"url\\":\\"https://docs.coreness.tech/getting-started/DEPLOYMENT\\"}"]]},"headers":[],"relativePath":"getting-started/DEPLOYMENT.md","filePath":"getting-started/DEPLOYMENT.md"}'),t={name:"getting-started/DEPLOYMENT.md"};function r(i,e,l,c,p,d){return a(),o("div",null,[...e[0]||(e[0]=[n(`<h1 id="развертывание" tabindex="-1">Развёртывание <a class="header-anchor" href="#развертывание" aria-label="Permalink to &quot;Развёртывание&quot;">​</a></h1><p>Краткий гайд по развёртыванию платформы с нуля.</p><h2 id="с-чего-начать" tabindex="-1">С чего начать <a class="header-anchor" href="#с-чего-начать" aria-label="Permalink to &quot;С чего начать&quot;">​</a></h2><ol><li><strong>Скачайте репозиторий:</strong><ul><li>Через Git: <code>git clone &lt;URL_репозитория&gt;</code> и перейдите в каталог проекта (<code>cd &lt;имя_репозитория&gt;</code>).</li><li>Или скачайте архив с GitHub (Code → Download ZIP), распакуйте и откройте каталог в терминале.</li></ul></li><li>После клона проект по умолчанию готов к запуску <strong>с настройками по умолчанию (SQLite)</strong>. Для корректной настройки окружения, БД и дальнейших обновлений рекомендуется использовать утилиту <strong>Core Manager</strong>.</li></ol><h2 id="запуск-core-manager" tabindex="-1">Запуск Core Manager <a class="header-anchor" href="#запуск-core-manager" aria-label="Permalink to &quot;Запуск Core Manager&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tools/core_manager/core_manager.py</span></span></code></pre></div><p>При первом запуске утилита запросит:</p><ol><li><p><strong>Окружение</strong> (test / prod)</p><ul><li><code>test</code> — тестовое окружение (отдельные порты и контейнеры, например postgres-test, порт 5433).</li><li><code>prod</code> — продакшн (postgres, порт 5432).</li></ul></li><li><p><strong>Режим развёртывания</strong> (docker / native)</p><ul><li><code>docker</code> — контейнеры (Docker + docker-compose): утилита поднимает и обновляет контейнеры, конфигурация в <code>~/.coreness</code>, команда <code>dc</code> из <code>docker/compose</code>.</li><li><code>native</code> — без контейнеров: подключение к БД по настройкам (например localhost), после обновления — установка зависимостей из корневого <code>requirements.txt</code>. Удобно для локальной разработки и Windows.</li></ul></li><li><p><strong>Язык интерфейса</strong> (English / Русский). Его можно сменить в любой момент через пункт 4 меню.</p></li></ol><p>Настройки сохраняются в <code>config/.version</code>.</p><p><strong>Платформа:</strong> на Windows рекомендуется режим <strong>native</strong> — с docker compose под Windows бывают проблемы, утилита под это не заточена; нативно всё работает нормально. На Linux и сервере можно использовать <strong>docker</strong>.</p><h2 id="меню-утилиты" tabindex="-1">Меню утилиты <a class="header-anchor" href="#меню-утилиты" aria-label="Permalink to &quot;Меню утилиты&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>==================================================</span></span>
<span class="line"><span>                   CORE MANAGER</span></span>
<span class="line"><span>==================================================</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  Версия: 1.1.0-beta2-10</span></span>
<span class="line"><span>  Окружение: test</span></span>
<span class="line"><span>  Режим развёртывания: docker</span></span>
<span class="line"><span></span></span>
<span class="line"><span>--------------------------------------------------</span></span>
<span class="line"><span></span></span>
<span class="line"><span>1. Обновление системы</span></span>
<span class="line"><span>2. Работа с БД</span></span>
<span class="line"><span>3. Обновить утилиту</span></span>
<span class="line"><span>4. Сменить язык</span></span>
<span class="line"><span>0. Выход</span></span>
<span class="line"><span></span></span>
<span class="line"><span>--------------------------------------------------</span></span>
<span class="line"><span>Выберите действие:</span></span></code></pre></div><ul><li><strong>1. Обновление системы</strong> — обновление платформы из репозитория (выбор версии, бэкап, обновление файлов, миграция БД, перезапуск контейнеров при docker).</li><li><strong>2. Работа с БД</strong> — миграции, создание бэкапа, восстановление из бэкапа.</li><li><strong>3. Обновить утилиту</strong> — самообновление Core Manager.</li><li><strong>4. Сменить язык</strong> — переключение языка интерфейса.</li></ul><h2 id="основные-операции" tabindex="-1">Основные операции <a class="header-anchor" href="#основные-операции" aria-label="Permalink to &quot;Основные операции&quot;">​</a></h2><h3 id="обновление-системы" tabindex="-1">Обновление системы <a class="header-anchor" href="#обновление-системы" aria-label="Permalink to &quot;Обновление системы&quot;">​</a></h3><p>Обновление из GitHub: выбор версии → бэкап → обновление файлов → предложение миграции БД → перезапуск контейнеров (docker) или установка зависимостей из <code>requirements.txt</code> (native). <strong>Файлы настроек и версии</strong> (<code>config/settings.yaml</code>, <code>config/.version</code>) <strong>не перезаписываются</strong>, чтобы не сбрасывать ваши настройки.</p><h3 id="работа-с-бд" tabindex="-1">Работа с БД <a class="header-anchor" href="#работа-с-бд" aria-label="Permalink to &quot;Работа с БД&quot;">​</a></h3><ul><li><strong>Миграции</strong> — приведение схемы БД к моделям (SQLite и PostgreSQL).</li><li><strong>Бэкап</strong> — SQLite: копирование файла; PostgreSQL: через pg_dump в контейнере или локальный клиент.</li><li><strong>Восстановление</strong> — из выбранного бэкапа.</li></ul><h3 id="самообновление-утилиты" tabindex="-1">Самообновление утилиты <a class="header-anchor" href="#самообновление-утилиты" aria-label="Permalink to &quot;Самообновление утилиты&quot;">​</a></h3><p>Пункт 3 в меню: загрузка новой версии Core Manager с GitHub, обновление файлов утилиты и перезапуск.</p><h2 id="конфигурация" tabindex="-1">Конфигурация <a class="header-anchor" href="#конфигурация" aria-label="Permalink to &quot;Конфигурация&quot;">​</a></h2><p>Основной конфиг: <code>tools/core_manager/config.yaml</code>.</p><p>Важные секции:</p><ul><li><code>version_file.path</code> — путь к файлу версии (<code>config/.version</code>)</li><li><code>system_update</code> — URL репозитория, ветка, список файлов для обновления</li><li><code>docker_compose.global_config_dir</code> — каталог конфигурации Docker (<code>~/.coreness</code>)</li><li><code>database.backup_dir</code> — каталог бэкапов БД (<code>data/backups</code>)</li></ul><p>Файл версии <code>config/.version</code> хранит: <code>version</code>, <code>language</code>, <code>environment</code>, <code>deployment_mode</code>.</p><h2 id="поддержка" tabindex="-1">Поддержка <a class="header-anchor" href="#поддержка" aria-label="Permalink to &quot;Поддержка&quot;">​</a></h2><p>При вопросах или проблемах: изучите этот гайд и вывод утилиты; при необходимости обратитесь к разработчику или создайте issue в репозитории проекта.</p>`,27)])])}const u=s(t,[["render",r]]);export{h as __pageData,u as default};
