import{_ as t,o as a,c as o,af as n}from"./chunks/framework.DZTH9Z-c.js";const u=JSON.parse('{"title":"Changelog","description":"Coreness changelog. Latest changes, new features, breaking changes and migrations between versions.","frontmatter":{"title":"Changelog","description":"Coreness changelog. Latest changes, new features, breaking changes and migrations between versions.","keywords":"coreness changelog, version history, updates, breaking changes, migration","head":[["meta",{"property":"og:title","content":"Changelog | Coreness"}],["meta",{"property":"og:description","content":"Coreness changelog. Latest changes, new features, breaking changes and migrations between versions."}],["meta",{"property":"og:image","content":"https://docs.coreness.tech/logo-dark.png"}],["meta",{"property":"og:url","content":"https://docs.coreness.tech/en/CHANGELOG"}],["link",{"rel":"canonical","href":"https://docs.coreness.tech/en/CHANGELOG"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"TechArticle\\",\\"headline\\":\\"Changelog\\",\\"description\\":\\"Coreness changelog. Latest changes, new features, breaking changes and migrations between versions.\\",\\"url\\":\\"https://docs.coreness.tech/en/CHANGELOG\\"}"]]},"headers":[],"relativePath":"en/CHANGELOG.md","filePath":"en/CHANGELOG.md"}'),i={name:"en/CHANGELOG.md"};function r(s,e,d,c,l,h){return a(),o("div",null,[...e[0]||(e[0]=[n('<h1 id="changelog" tabindex="-1">Changelog <a class="header-anchor" href="#changelog" aria-label="Permalink to &quot;Changelog&quot;">‚Äã</a></h1><p>All notable changes to this project documented in this file.</p><h2 id="_1-2-1-2026-02-10" tabindex="-1">[1.2.1] - 2026-02-10 <a class="header-anchor" href="#_1-2-1-2026-02-10" aria-label="Permalink to &quot;[1.2.1] - 2026-02-10&quot;">‚Äã</a></h2><h3 id="‚ö†Ô∏è-breaking-changes" tabindex="-1">‚ö†Ô∏è BREAKING CHANGES <a class="header-anchor" href="#‚ö†Ô∏è-breaking-changes" aria-label="Permalink to &quot;‚ö†Ô∏è BREAKING CHANGES&quot;">‚Äã</a></h3><ul><li><strong>ai_rag_service</strong>: default chunk sizes increased (chunk_size 512‚Üí1000, chunk_overlap 100‚Üí200, min_chunk_size 50‚Üí200). Reprocessed documents will have fewer chunks</li></ul><h3 id="added" tabindex="-1">Added <a class="header-anchor" href="#added" aria-label="Permalink to &quot;Added&quot;">‚Äã</a></h3><ul><li><strong>download_service</strong>: action <code>download_and_extract</code> ‚Äî download by URL, text extraction (PDF, DOCX, TXT, MD, HTML, CSV), Google Drive/Docs/Sheets/GitHub support</li><li><strong>ai_rag_service</strong>: adaptive chunking and structure preservation (tables, code, lists, headers not split)</li></ul><h3 id="fixed" tabindex="-1">Fixed <a class="header-anchor" href="#fixed" aria-label="Permalink to &quot;Fixed&quot;">‚Äã</a></h3><ul><li><strong>Core Manager</strong>: pre-release handling in update checks ‚Äî ‚Äúlatest version‚Äù is now latest stable only; system update always shows version list with current highlighted; utility update offers choice when a pre-release exists (pre-release vs latest stable) and downloads by selected tag instead of main branch</li></ul><h2 id="_1-2-0-2026-02-09" tabindex="-1">[1.2.0] - 2026-02-09 <a class="header-anchor" href="#_1-2-0-2026-02-09" aria-label="Permalink to &quot;[1.2.0] - 2026-02-09&quot;">‚Äã</a></h2><h3 id="‚ö†Ô∏è-breaking-changes-1" tabindex="-1">‚ö†Ô∏è BREAKING CHANGES <a class="header-anchor" href="#‚ö†Ô∏è-breaking-changes-1" aria-label="Permalink to &quot;‚ö†Ô∏è BREAKING CHANGES&quot;">‚Äã</a></h3><ul><li><strong>telegram_bot_manager:</strong> Removed <code>sync_bot</code>, <code>stop_all_bots</code>, <code>sync_bot_config</code>, <code>sync_bot_commands</code>; sync only via <code>sync_telegram_bot</code>. Renamed: <code>start_bot</code>‚Üí<code>start_telegram_bot</code>, <code>stop_bot</code>‚Üí<code>stop_telegram_bot</code>, <code>get_bot_status</code>‚Üí<code>get_telegram_bot_status</code>, <code>set_bot_token</code>‚Üí<code>set_telegram_bot_token</code>. Bot data only via <code>get_telegram_bot_info_by_id</code> (by bot_id); <code>get_bot_info</code> and <code>get_telegram_bot_info</code> (by token) removed.</li><li><strong>tenant_hub:</strong> Removed from Action Hub (internal): <code>sync_tenant_data</code>, <code>sync_tenant_config</code>, <code>sync_tenants_from_files</code>. Use <code>sync_tenant</code> for tenant sync.</li></ul><h3 id="added-1" tabindex="-1">Added <a class="header-anchor" href="#added-1" aria-label="Permalink to &quot;Added&quot;">‚Äã</a></h3><ul><li><code>get_bot_id_by_tenant_id</code> (tenant_hub): get bot_id by tenant_id and bot_type (telegram only), for scenarios.</li><li><code>get_tenant_status</code>: tenant cache only (last_updated_at, last_failed_at, last_error); bot data via <code>get_telegram_bot_status</code> by bot_id.</li><li><code>restrict_chat_member</code> (telegram_api): action to restrict users in supergroups (permission groups: messages, attachments, other, management).</li><li><strong>send_message (telegram_api):</strong> support for flag and string for <code>message_reply</code>: <code>true</code> ‚Äî reply to current event message, integer/string ‚Äî message ID. For <code>message_edit</code>, string support added (same as integer) so placeholders like <code>&quot;{message_id}&quot;</code> work without type errors.</li><li><strong>execute_scenario (transition):</strong> new transition type that executes another scenario and returns to current scenario (unlike <code>jump_to_scenario</code> which terminates current). Cache from executed scenario automatically merged into current scenario. Supports single scenario (string) or array of scenarios.</li></ul><h3 id="changed" tabindex="-1">Changed <a class="header-anchor" href="#changed" aria-label="Permalink to &quot;Changed&quot;">‚Äã</a></h3><ul><li>Tenant management scenarios: <code>set_telegram_bot_token</code>; menu uses <code>get_tenant_status</code> and <code>get_telegram_bot_status</code> by bot_id.</li></ul><h3 id="fixed-1" tabindex="-1">Fixed <a class="header-anchor" href="#fixed-1" aria-label="Permalink to &quot;Fixed&quot;">‚Äã</a></h3><ul><li>General system improvements and bug fixes (incl. ai_rag_service: <code>ai_token</code> for action <code>save_embedding</code> is now optional when <code>generate_embedding=false</code>).</li></ul><h3 id="technical-improvements" tabindex="-1">Technical Improvements <a class="header-anchor" href="#technical-improvements" aria-label="Permalink to &quot;Technical Improvements&quot;">‚Äã</a></h3><ul><li>Unified Telegram action naming; single public bot sync ‚Äî <code>sync_telegram_bot</code>.</li></ul><h2 id="_1-1-2-2026-02-08" tabindex="-1">[1.1.2] - 2026-02-08 <a class="header-anchor" href="#_1-1-2-2026-02-08" aria-label="Permalink to &quot;[1.1.2] - 2026-02-08&quot;">‚Äã</a></h2><h3 id="‚ö†Ô∏è-breaking-changes-2" tabindex="-1">‚ö†Ô∏è BREAKING CHANGES <a class="header-anchor" href="#‚ö†Ô∏è-breaking-changes-2" aria-label="Permalink to &quot;‚ö†Ô∏è BREAKING CHANGES&quot;">‚Äã</a></h3><ul><li><strong>Tenant configuration structure:</strong> The <code>tg_bot.yaml</code> file in the tenant root has been replaced by a <code>bots/</code> folder containing bot configs. Telegram bot config is now stored in <code>bots/telegram.yaml</code>. The <code>bots/</code> folder can hold configs for different bots (e.g. <code>telegram.yaml</code>, <code>whatsapp.yaml</code>).</li></ul><h3 id="changed-1" tabindex="-1">Changed <a class="header-anchor" href="#changed-1" aria-label="Permalink to &quot;Changed&quot;">‚Äã</a></h3><ul><li>Documentation updated and improved: section structure, navigation, and wording</li><li>Hub structure reworked: tenant_hub and the bot management service (formerly referred to as ¬´bot hub¬ª); bot management is now centralized in the Telegram service (telegram_bot_manager)</li></ul><h3 id="technical-improvements-1" tabindex="-1">Technical Improvements <a class="header-anchor" href="#technical-improvements-1" aria-label="Permalink to &quot;Technical Improvements&quot;">‚Äã</a></h3><ul><li>Tenant hub refactoring: action handlers extracted (actions), GitHub sync logic unified, domain modules renamed (utils ‚Üí domain, TenantDataManager ‚Üí TenantRepository)</li></ul><h2 id="_1-1-1-2026-02-04" tabindex="-1">[1.1.1] - 2026-02-04 <a class="header-anchor" href="#_1-1-1-2026-02-04" aria-label="Permalink to &quot;[1.1.1] - 2026-02-04&quot;">‚Äã</a></h2><h3 id="changed-2" tabindex="-1">Changed <a class="header-anchor" href="#changed-2" aria-label="Permalink to &quot;Changed&quot;">‚Äã</a></h3><ul><li>Documentation: quick start now uses system tenants (no GitHub); public tenants as optional block</li><li>Configuration: system tenants boundary set to 99 (<code>max_system_tenant_id: 99</code> in <code>config/settings.yaml</code>), 100+ are public</li><li>When <code>github_url</code> is not set, no errors are shown, sync is skipped, system works only with system tenants</li><li>Tenant 1 (master bot): scenario rework ‚Äî language selection support (i18n), improved and lighter UX, documentation improved</li></ul><h3 id="fixed-2" tabindex="-1">Fixed <a class="header-anchor" href="#fixed-2" aria-label="Permalink to &quot;Fixed&quot;">‚Äã</a></h3><ul><li>General system improvements and minor fixes</li></ul><h3 id="technical-improvements-2" tabindex="-1">Technical Improvements <a class="header-anchor" href="#technical-improvements-2" aria-label="Permalink to &quot;Technical Improvements&quot;">‚Äã</a></h3><ul><li>Backup system: simplified backup management with DB type separation into folders (sqlite/, postgresql/), added compression (gzip for SQLite, pg_dump -Z 9 for PostgreSQL), unified formats between utility and plugin</li></ul><h2 id="_1-1-0-2026-02-02" tabindex="-1">[1.1.0] - 2026-02-02 <a class="header-anchor" href="#_1-1-0-2026-02-02" aria-label="Permalink to &quot;[1.1.0] - 2026-02-02&quot;">‚Äã</a></h2><h3 id="added-2" tabindex="-1">Added <a class="header-anchor" href="#added-2" aria-label="Permalink to &quot;Added&quot;">‚Äã</a></h3><ul><li>In the actions guide (ACTION_GUIDE): extension actions (from plugins in the extensions folder) are marked with ‚≠ê in the table of contents and section headers, with a short note about extensions</li><li>Documentation now describes extension actions (from the extensions folder)</li></ul><h3 id="changed-3" tabindex="-1">Changed <a class="header-anchor" href="#changed-3" aria-label="Permalink to &quot;Changed&quot;">‚Äã</a></h3><ul><li>General documentation improvements</li><li>Deployment guide (DEPLOYMENT.md) fully updated for the Core Manager utility</li></ul><h3 id="technical-improvements-3" tabindex="-1">Technical Improvements <a class="header-anchor" href="#technical-improvements-3" aria-label="Permalink to &quot;Technical Improvements&quot;">‚Äã</a></h3><ul><li>Deployment utility fully reworked: replaced with Core Manager (<code>tools/core_manager</code>). Full bilingual support (EN/RU), optimized structure and logic, improved UI/UX, self-update refined. Deployment guide updated to match the new utility</li></ul><h2 id="_1-0-3-2026-01-21" tabindex="-1">[1.0.3] - 2026-01-21 <a class="header-anchor" href="#_1-0-3-2026-01-21" aria-label="Permalink to &quot;[1.0.3] - 2026-01-21&quot;">‚Äã</a></h2><h3 id="added-3" tabindex="-1">Added <a class="header-anchor" href="#added-3" aria-label="Permalink to &quot;Added&quot;">‚Äã</a></h3><ul><li>Added AI models guide in English (<code>docs/en/AI_MODELS_GUIDE.md</code>)</li><li>Added complete English version of documentation ‚Äî all main guides available in <code>docs/en/</code></li><li>All configuration files and code comments translated to English</li></ul><h3 id="technical-improvements-4" tabindex="-1">Technical Improvements <a class="header-anchor" href="#technical-improvements-4" aria-label="Permalink to &quot;Technical Improvements&quot;">‚Äã</a></h3><ul><li>Created <code>extensions</code> level for plugins ‚Äî allows easily adding additional plugins to extend platform functionality, which are not overwritten during updates</li><li>Updated plugin documentation ‚Äî added description of extension system and usage rules</li></ul><h2 id="_1-0-2-2026-01-16" tabindex="-1">[1.0.2] - 2026-01-16 <a class="header-anchor" href="#_1-0-2-2026-01-16" aria-label="Permalink to &quot;[1.0.2] - 2026-01-16&quot;">‚Äã</a></h2><h3 id="‚ö†Ô∏è-breaking-changes-3" tabindex="-1">‚ö†Ô∏è BREAKING CHANGES <a class="header-anchor" href="#‚ö†Ô∏è-breaking-changes-3" aria-label="Permalink to &quot;‚ö†Ô∏è BREAKING CHANGES&quot;">‚Äã</a></h3><ul><li><strong>Placeholders: Renaming modifier <code>time</code> ‚Üí <code>seconds</code></strong> ‚Äî modifier renamed for clarity and consistency. Functionality unchanged, but syntax changed: use <code>{duration|seconds}</code> instead of <code>{duration|time}</code> in all scenarios</li><li><strong>Placeholders: Renaming PostgreSQL formats <code>date_postgres</code>/<code>datetime_postgres</code> ‚Üí <code>pg_date</code>/<code>pg_datetime</code></strong> ‚Äî formats renamed for brevity. Update usage: <code>{timestamp|format:pg_date}</code> instead of <code>{timestamp|format:date_postgres}</code>, <code>{timestamp|format:pg_datetime}</code> instead of <code>{timestamp|format:datetime_postgres}</code></li></ul><h3 id="added-4" tabindex="-1">Added <a class="header-anchor" href="#added-4" aria-label="Permalink to &quot;Added&quot;">‚Äã</a></h3><ul><li><strong>Placeholders: Support for literal values in quotes</strong> ‚Äî now can use values directly in placeholders without passing through dictionary: <code>{&#39;hello&#39;|upper}</code>, <code>{&#39;1d 2w&#39;|seconds}</code>, <code>{&#39;100&#39;|+50}</code>. Supports single and double quotes with escaping (<code>&#39;it\\&#39;s&#39;</code>, <code>&quot;say \\&quot;hi\\&quot;&quot;</code>)</li><li><strong>Placeholders: <code>shift</code> modifier for date shifting</strong> ‚Äî new modifier for working with dates in PostgreSQL style: <code>{created|shift:+1 day}</code>, <code>{created|shift:+1 year 2 months}</code>, <code>{created|shift:-2 hours}</code>. Supports all date formats (PostgreSQL, standard, ISO, timestamp), correctly handles months/years and month edges (e.g., Jan 31 + 1 month = Feb 29 in leap year)</li><li><strong>Placeholders: Modifiers for rounding dates to period start</strong> ‚Äî new modifiers for rounding dates to start of various periods: <code>to_date</code> (start of day), <code>to_hour</code> (start of hour), <code>to_minute</code> (start of minute), <code>to_second</code> (start of second), <code>to_week</code> (start of week - Monday), <code>to_month</code> (start of month), <code>to_year</code> (start of year). All return ISO format (<code>YYYY-MM-DD HH:MM:SS</code>). Examples: <code>{created|to_date}</code>, <code>{created|to_month|format:date}</code></li></ul><h2 id="_1-0-1-2026-01-15" tabindex="-1">[1.0.1] - 2026-01-15 <a class="header-anchor" href="#_1-0-1-2026-01-15" aria-label="Permalink to &quot;[1.0.1] - 2026-01-15&quot;">‚Äã</a></h2><h3 id="fixed-3" tabindex="-1">Fixed <a class="header-anchor" href="#fixed-3" aria-label="Permalink to &quot;Fixed&quot;">‚Äã</a></h3><ul><li><code>get_tenants_list</code>: All tenant ID lists (<code>tenant_ids</code>, <code>public_tenant_ids</code>, <code>system_tenant_ids</code>) now returned sorted in ascending order</li></ul><h3 id="technical-improvements-5" tabindex="-1">Technical Improvements <a class="header-anchor" href="#technical-improvements-5" aria-label="Permalink to &quot;Technical Improvements&quot;">‚Äã</a></h3><ul><li>Simplified Docker management utility (<code>docker/compose</code>) ‚Äî removed environment specification requirement for most commands, direct work with containers by name (e.g., <code>dc logs app-test</code>, <code>dc start app-test</code>), improved <code>logs</code> command with tail and follow support by default (last 100 lines + follow)</li></ul><h2 id="_1-0-0-2025-12-31" tabindex="-1">[1.0.0] - 2025-12-31 <a class="header-anchor" href="#_1-0-0-2025-12-31" aria-label="Permalink to &quot;[1.0.0] - 2025-12-31&quot;">‚Äã</a></h2><h3 id="üéâ-version-1-0-0-release" tabindex="-1">üéâ Version 1.0.0 Release <a class="header-anchor" href="#üéâ-version-1-0-0-release" aria-label="Permalink to &quot;üéâ Version 1.0.0 Release&quot;">‚Äã</a></h3><p>Platform reached stable state and ready for full production use. During development from version 0.4.0 to 1.0.0 platform underwent significant improvements in all key aspects.</p><h3 id="architecture-and-infrastructure" tabindex="-1">Architecture and Infrastructure <a class="header-anchor" href="#architecture-and-infrastructure" aria-label="Permalink to &quot;Architecture and Infrastructure&quot;">‚Äã</a></h3><ul><li><strong>PostgreSQL Migration</strong> ‚Äî transition from SQLite to PostgreSQL for improved performance, scalability and data storage reliability</li><li><strong>Telegram Webhooks</strong> ‚Äî webhook support instead of polling with automatic SSL certificate generation</li><li><strong>Deployment System</strong> ‚Äî deployment automation via GitHub Actions, deployment management utility with DB migration, backup and versioning support</li><li><strong>Automatic Backups</strong> ‚Äî background DB backup service with configurable interval and automatic rotation</li><li><strong>Database Access Control Views</strong> ‚Äî DB-level access control system via PostgreSQL views</li><li><strong>GitHub Webhooks</strong> ‚Äî automatic tenant synchronization on repository changes</li></ul><h3 id="ai-and-rag-retrieval-augmented-generation" tabindex="-1">AI and RAG (Retrieval-Augmented Generation) <a class="header-anchor" href="#ai-and-rag-retrieval-augmented-generation" aria-label="Permalink to &quot;AI and RAG (Retrieval-Augmented Generation)&quot;">‚Äã</a></h3><ul><li><strong>Vector Storage</strong> ‚Äî integration with pgvector for PostgreSQL, support for 1024-dimensional vector embeddings</li><li><strong>HNSW Index</strong> ‚Äî optimized vector search even on large data volumes</li><li><strong>RAG Actions</strong> ‚Äî <code>save_embedding</code>, <code>search_embedding</code>, <code>get_recent_chunks</code>, <code>delete_embedding</code> for working with vector storage</li><li><strong>RAG Integration in Completion</strong> ‚Äî <code>rag_chunks</code> parameter for automatic context formation from vector search</li><li><strong>Migration to Polza.ai</strong> ‚Äî transition from OpenRouter to universal AI provider with extended pricing and modality support</li></ul><h3 id="scenarios-and-actions" tabindex="-1">Scenarios and Actions <a class="header-anchor" href="#scenarios-and-actions" aria-label="Permalink to &quot;Scenarios and Actions&quot;">‚Äã</a></h3><ul><li><strong>Unified Storage Actions</strong> ‚Äî unified action set for working with Tenant Storage and User Storage (get/set/delete)</li><li><strong>Async Actions</strong> ‚Äî support for background execution of long operations (e.g., LLM requests) with waiting via <code>wait_for_action</code></li><li><strong>Scheduled Scenarios</strong> ‚Äî scenario launch on schedule via cron expressions</li><li><strong>Dynamic Keyboards</strong> ‚Äî <code>build_keyboard</code> action for creating keyboards from arrays with templates</li><li><strong>Centralized Validation</strong> ‚Äî unified validation system for all action input parameters with structured errors</li><li><strong>Automatic Type Conversion</strong> ‚Äî automatic parameter type conversion when needed</li><li><strong>Caching System</strong> ‚Äî unified caching utility for all critical data (bots, tenants, scenarios, users)</li></ul><h3 id="events-and-triggers" tabindex="-1">Events and Triggers <a class="header-anchor" href="#events-and-triggers" aria-label="Permalink to &quot;Events and Triggers&quot;">‚Äã</a></h3><ul><li><strong>New Event Types</strong> ‚Äî group member events (<code>member_joined</code>, <code>member_left</code>), payment events (<code>pre_checkout_query</code>, <code>payment_successful</code>)</li><li><strong>Improved Conditions</strong> ‚Äî support for <code>$name</code> marker for fields in conditions, modifiers for placeholders (<code>exists</code>, <code>is_null</code>, <code>code</code>, <code>keys</code>, <code>expand</code>)</li><li><strong>Placeholders</strong> ‚Äî extended placeholder system with support for complex data structures, dot notation and array element access</li></ul><h3 id="data-storage" tabindex="-1">Data Storage <a class="header-anchor" href="#data-storage" aria-label="Permalink to &quot;Data Storage&quot;">‚Äã</a></h3><ul><li><strong>Tenant Storage</strong> ‚Äî tenant attribute storage (key-value) with support for complex structures (JSON objects, arrays, nested structures)</li><li><strong>User Storage</strong> ‚Äî user data storage for storing user settings and data</li><li><strong>Storage Search</strong> ‚Äî <code>get_users_by_storage_value</code> action for finding users by storage values</li></ul><h3 id="payments-and-invoices" tabindex="-1">Payments and Invoices <a class="header-anchor" href="#payments-and-invoices" aria-label="Permalink to &quot;Payments and Invoices&quot;">‚Äã</a></h3><ul><li><strong>invoice_service Service</strong> ‚Äî complete action set for working with invoices: creation, sending, payment confirmation/rejection, getting information, cancellation</li><li><strong>Payment Processing</strong> ‚Äî automatic processing of <code>pre_checkout_query</code> and <code>payment_successful</code> events for working with Telegram Stars</li></ul><h3 id="performance-and-reliability-improvements" tabindex="-1">Performance and Reliability Improvements <a class="header-anchor" href="#performance-and-reliability-improvements" aria-label="Permalink to &quot;Performance and Reliability Improvements&quot;">‚Äã</a></h3><ul><li><strong>Parallel Processing</strong> ‚Äî bots can process incoming events in parallel</li><li><strong>Synchronization Optimization</strong> ‚Äî improved bot and tenant synchronization performance</li><li><strong>Improved Error Handling</strong> ‚Äî structured error codes for all actions with fields <code>code</code>, <code>message</code>, <code>details</code></li><li><strong>Test Environment</strong> ‚Äî separate test environment for checking changes before production rollout</li></ul><h3 id="documentation" tabindex="-1">Documentation <a class="header-anchor" href="#documentation" aria-label="Permalink to &quot;Documentation&quot;">‚Äã</a></h3><ul><li><strong>Extended Documentation</strong> ‚Äî created guides for AI models, storage, scenarios, events, usage examples</li><li><strong>Quick Start</strong> ‚Äî separate guide for new users</li><li><strong>Usage Examples</strong> ‚Äî practical examples working with RAG, payments, storage and other features</li></ul>',75)])])}const m=t(i,[["render",r]]);export{u as __pageData,m as default};
