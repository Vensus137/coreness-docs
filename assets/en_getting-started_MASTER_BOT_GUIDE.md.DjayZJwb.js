import{_ as e,o as n,c as t,af as s}from"./chunks/framework.DZTH9Z-c.js";const u=JSON.parse('{"title":"Master Bot â€” Tenant Management","description":"Guide to Master Bot in Coreness. System bot for managing tenants, creating bots and synchronizing configurations.","frontmatter":{"title":"Master Bot â€” Tenant Management","description":"Guide to Master Bot in Coreness. System bot for managing tenants, creating bots and synchronizing configurations.","keywords":"master bot, tenant management, bot creation, coreness admin","head":[["meta",{"property":"og:title","content":"Master Bot â€” Tenant Management | Coreness"}],["meta",{"property":"og:description","content":"Guide to Master Bot in Coreness. System bot for managing tenants, creating bots and synchronizing configurations."}],["meta",{"property":"og:image","content":"https://docs.coreness.tech/logo-dark.png"}],["meta",{"property":"og:url","content":"https://docs.coreness.tech/en/getting-started/MASTER_BOT_GUIDE"}],["link",{"rel":"canonical","href":"https://docs.coreness.tech/en/getting-started/MASTER_BOT_GUIDE"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"TechArticle\\",\\"headline\\":\\"Master Bot â€” Tenant Management\\",\\"description\\":\\"Guide to Master Bot in Coreness. System bot for managing tenants, creating bots and synchronizing configurations.\\",\\"url\\":\\"https://docs.coreness.tech/en/getting-started/MASTER_BOT_GUIDE\\"}"]]},"headers":[],"relativePath":"en/getting-started/MASTER_BOT_GUIDE.md","filePath":"en/getting-started/MASTER_BOT_GUIDE.md"}'),o={name:"en/getting-started/MASTER_BOT_GUIDE.md"};function r(i,a,l,c,g,p){return n(),t("div",null,[...a[0]||(a[0]=[s(`<h1 id="master-bot-â€”-tenant-management-system" tabindex="-1">Master Bot â€” Tenant Management System <a class="header-anchor" href="#master-bot-â€”-tenant-management-system" aria-label="Permalink to &quot;Master Bot â€” Tenant Management System&quot;">â€‹</a></h1><p><strong>Master Bot</strong> is a system bot for managing platform tenants <code>Coreness</code>, working similar to <a href="http://t.me/botfather" target="_blank" rel="noreferrer">@BotFather</a> in <strong>Telegram</strong>.</p><h2 id="ğŸ¯-purpose" tabindex="-1">ğŸ¯ Purpose <a class="header-anchor" href="#ğŸ¯-purpose" aria-label="Permalink to &quot;ğŸ¯ Purpose&quot;">â€‹</a></h2><p>Master Bot provides a full-featured management system for:</p><ul><li><strong>Selecting and switching</strong> between available tenants</li><li><strong>Configuring</strong> tenant settings (tokens, parameters)</li><li><strong>Managing Storage</strong> (Tenant Storage and User Storage)</li><li><strong>Data synchronization</strong> with GitHub repositories</li><li><strong>Access control</strong> based on user roles</li><li><strong>Language selection</strong> for the interface (Russian / English)</li></ul><h2 id="ğŸ“‚-structure" tabindex="-1">ğŸ“‚ Structure <a class="header-anchor" href="#ğŸ“‚-structure" aria-label="Permalink to &quot;ğŸ“‚ Structure&quot;">â€‹</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>master-bot/</span></span>
<span class="line"><span>â”œâ”€â”€ bots/</span></span>
<span class="line"><span>â”‚   â””â”€â”€ telegram.yaml       # Bot configuration</span></span>
<span class="line"><span>â”‚</span></span>
<span class="line"><span>â”œâ”€â”€ scenarios/               # Bot scenarios</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ main/               # Core functionality</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ commands.yaml   # Commands (/start, /help, /me, /file, /language)</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ access.yaml     # User access check</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ settings.yaml   # User settings (language)</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ errors.yaml     # Error handling</span></span>
<span class="line"><span>â”‚   â”‚   â””â”€â”€ default.yaml    # Default scenarios (default_check, check_message)</span></span>
<span class="line"><span>â”‚   â”‚</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ management/         # Tenant management</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ tenant.yaml           # Tenant selection and management</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ tenant_config.yaml    # Configuration setup (AI token, etc.)</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ tenant_storage.yaml   # Tenant Storage management</span></span>
<span class="line"><span>â”‚   â”‚   â””â”€â”€ user_storage.yaml     # User Storage management</span></span>
<span class="line"><span>â”‚   â”‚</span></span>
<span class="line"><span>â”‚   â””â”€â”€ scheduled/          # Automated tasks</span></span>
<span class="line"><span>â”‚       â””â”€â”€ cleanup_temp_storage.yaml  # Temporary data cleanup</span></span>
<span class="line"><span>â”‚</span></span>
<span class="line"><span>â””â”€â”€ storage/                # Data and localization</span></span>
<span class="line"><span>    â”œâ”€â”€ main.yaml           # Main settings (users, access)</span></span>
<span class="line"><span>    â”œâ”€â”€ i18n_default.yaml   # Translations: errors, access, language</span></span>
<span class="line"><span>    â”œâ”€â”€ i18n_command.yaml   # Translations: /start, /help</span></span>
<span class="line"><span>    â”œâ”€â”€ i18n_tenant.yaml    # Translations: tenant menu, config, tokens</span></span>
<span class="line"><span>    â”œâ”€â”€ i18n_user_storage.yaml    # Translations: User Storage</span></span>
<span class="line"><span>    â””â”€â”€ i18n_tenant_storage.yaml  # Translations: Tenant Storage</span></span></code></pre></div><h2 id="ğŸš€-core-features" tabindex="-1">ğŸš€ Core Features <a class="header-anchor" href="#ğŸš€-core-features" aria-label="Permalink to &quot;ğŸš€ Core Features&quot;">â€‹</a></h2><img src="https://habrastorage.org/webt/qn/xx/nj/qnxxnjxicp83lppv7yfrh0dwjby.gif" alt="Master Bot" width="400"><h3 id="_1-language-selection" tabindex="-1">1. Language Selection <a class="header-anchor" href="#_1-language-selection" aria-label="Permalink to &quot;1. Language Selection&quot;">â€‹</a></h3><ul><li><strong>Command:</strong> <code>/language</code></li><li><strong>Available to:</strong> all users</li><li><strong>Action:</strong> choose interface language (Russian / English). The selected language is stored in User Storage and applied to all Master Bot scenarios (menus, messages, buttons).</li></ul><p>Before operations, the <code>default_check</code> scenario runs: access check and loading of translations for the user&#39;s current language.</p><h3 id="_2-tenant-management" tabindex="-1">2. Tenant Management <a class="header-anchor" href="#_2-tenant-management" aria-label="Permalink to &quot;2. Tenant Management&quot;">â€‹</a></h3><h4 id="tenant-selection" tabindex="-1">Tenant Selection <a class="header-anchor" href="#tenant-selection" aria-label="Permalink to &quot;Tenant Selection&quot;">â€‹</a></h4><ul><li><strong>For regular users:</strong> only tenants where they are owners (<code>tenant_owner</code>) are available</li><li><strong>For administrators:</strong> all system tenants (system + public)</li><li><strong>User Storage:</strong> active tenant saved in <code>active_tenant_id</code> for quick access</li></ul><h4 id="tenant-information" tabindex="-1">Tenant Information <a class="header-anchor" href="#tenant-information" aria-label="Permalink to &quot;Tenant Information&quot;">â€‹</a></h4><p>Tenant menu displays:</p><ul><li><strong>Bot status:</strong> enabled/disabled</li><li><strong>Working status:</strong> working/not working</li><li><strong>Update date:</strong> last synchronization</li><li><strong>Last error:</strong> if occurred</li></ul><h3 id="_3-configuration-setup" tabindex="-1">3. Configuration Setup <a class="header-anchor" href="#_3-configuration-setup" aria-label="Permalink to &quot;3. Configuration Setup&quot;">â€‹</a></h3><h4 id="bot-token-setup" tabindex="-1">Bot Token Setup <a class="header-anchor" href="#bot-token-setup" aria-label="Permalink to &quot;Bot Token Setup&quot;">â€‹</a></h4><ul><li><strong>Token input:</strong> format validation <code>number:string</code> (Telegram Bot API format)</li><li><strong>Token removal:</strong> enter <code>null</code> or <code>none</code></li><li><strong>Automatic check:</strong> token verified on polling start</li></ul><h4 id="ai-token-setup" tabindex="-1">AI Token Setup <a class="header-anchor" href="#ai-token-setup" aria-label="Permalink to &quot;AI Token Setup&quot;">â€‹</a></h4><ul><li><strong>Token input:</strong> for AI providers (OpenRouter, Azure OpenAI, etc.)</li><li><strong>Token removal:</strong> enter <code>null</code> or <code>none</code></li><li><strong>Validation:</strong> token format check (letters, numbers, hyphens, underscores)</li></ul><h3 id="_4-storage-management" tabindex="-1">4. Storage Management <a class="header-anchor" href="#_4-storage-management" aria-label="Permalink to &quot;4. Storage Management&quot;">â€‹</a></h3><h4 id="tenant-storage" tabindex="-1">Tenant Storage <a class="header-anchor" href="#tenant-storage" aria-label="Permalink to &quot;Tenant Storage&quot;">â€‹</a></h4><p>Full-featured tenant attribute storage management:</p><ul><li><strong>View groups:</strong> list all Storage groups</li><li><strong>View group:</strong> output in YAML format</li><li><strong>View key:</strong> view specific key value</li><li><strong>Edit:</strong> add/change values</li><li><strong>Delete:</strong> remove keys or entire groups</li></ul><p><strong>Input format:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>group                    # View group</span></span>
<span class="line"><span>group key               # View key value</span></span>
<span class="line"><span>group key value         # Change/add value</span></span></code></pre></div><p><strong>Example:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>settings                  # View settings group</span></span>
<span class="line"><span>settings max_users        # View max_users value</span></span>
<span class="line"><span>settings max_users 100    # Set max_users = 100</span></span></code></pre></div><h4 id="user-storage" tabindex="-1">User Storage <a class="header-anchor" href="#user-storage" aria-label="Permalink to &quot;User Storage&quot;">â€‹</a></h4><p>Similar management of user data storage (input: <code>user_id</code>, <code>user_id key</code>, <code>user_id key value</code>).</p><h3 id="_5-data-synchronization" tabindex="-1">5. Data Synchronization <a class="header-anchor" href="#_5-data-synchronization" aria-label="Permalink to &quot;5. Data Synchronization&quot;">â€‹</a></h3><p><strong>Function:</strong> <code>ğŸ”„ Sync</code> (in tenant menu)</p><p>Performs full tenant synchronization:</p><ul><li><strong>Pull from GitHub:</strong> download latest changes from repository</li><li><strong>Update scenarios:</strong> synchronize all scenario YAML files</li><li><strong>Update Storage:</strong> synchronize attribute storage</li><li><strong>Update configuration:</strong> synchronize bot settings</li></ul><h3 id="_6-access-control" tabindex="-1">6. Access Control <a class="header-anchor" href="#_6-access-control" aria-label="Permalink to &quot;6. Access Control&quot;">â€‹</a></h3><p><strong>Access levels:</strong></p><ul><li><strong>Administrator:</strong> access to all tenants and all functions</li><li><strong>Tenant owner:</strong> access to own tenants and their management</li><li><strong>Regular user:</strong> only public information (<code>/me</code>)</li></ul><p><strong>Access check:</strong> before operations, the <code>default_check</code> scenario runs (access check and language/translation loading).</p><h3 id="_7-automated-tasks" tabindex="-1">7. Automated Tasks <a class="header-anchor" href="#_7-automated-tasks" aria-label="Permalink to &quot;7. Automated Tasks&quot;">â€‹</a></h3><p><strong>Temporary Data Cleanup</strong> (<code>cleanup_temp_storage</code>)</p><ul><li><strong>Schedule:</strong> daily at 3:00 AM</li><li><strong>Function:</strong> remove temporary data from Storage (keys with <code>temp.*</code> prefix)</li></ul><h3 id="_8-commands" tabindex="-1">8. Commands <a class="header-anchor" href="#_8-commands" aria-label="Permalink to &quot;8. Commands&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>/start</code></td><td>Start bot, main menu</td></tr><tr><td><code>/help</code></td><td>Help on bot features</td></tr><tr><td><code>/language</code></td><td>Choose interface language (RU/EN)</td></tr><tr><td><code>/me</code></td><td>Public info about yourself (ID, username, name, language)</td></tr><tr><td><code>/file</code></td><td>Hidden command for developers: get attachment <code>file_id</code> and <code>type</code></td></tr></tbody></table><h2 id="ğŸ›¡ï¸-security" tabindex="-1">ğŸ›¡ï¸ Security <a class="header-anchor" href="#ğŸ›¡ï¸-security" aria-label="Permalink to &quot;ğŸ›¡ï¸ Security&quot;">â€‹</a></h2><ul><li><strong>Access validation:</strong> rights check before each operation (via <code>default_check</code>)</li><li><strong>Owner verification:</strong> regular users see only their tenants</li><li><strong>Token validation:</strong> format check before saving</li><li><strong>User states:</strong> input timeouts (300 seconds)</li><li><strong>Confirmations:</strong> critical operations require confirmation</li></ul>`,48)])])}const m=e(o,[["render",r]]);export{u as __pageData,m as default};
